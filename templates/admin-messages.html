<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ---------->

<!DOCTYPE html>
<html lang="ja">
<head>
  <title>{{ room_data.name }}</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.js"></script>
  <style>
  body,html{
      height: 100%;
      margin: 0;
      background: -webkit-linear-gradient(to right, #a3bded 0%, #6991c7 100%);
      background: linear-gradient(to right, #a3bded 0%, #6991c7 100%);
  }
  .chat{
      margin-top: auto;
      margin-bottom: auto;
  }
  a {
      text-decoration:none !important;
  }
  .title {
      font-size: 28px;
      color: whitesmoke;
  }
  .msg_card_body{
      overflow-y: auto;
  }
  .contacts li{
      width: 100% !important;
      padding: 5px 10px;
      margin-bottom: 15px !important;
  }
  .user_img_msg{
      height: 50px;
      width: 50px;
      border:3px solid #f5f6fa;
  }
  .img_cont_msg{
      height: 50px;
      width: 50px;
  }
  .user_info span{
      font-size: 20px;
      color: white;
  }
  .user_info p{
      font-size: 10px;
      color: rgba(255,255,255,0.6);
  }
  .video_cam span{
      color: white;
      font-size: 20px;
      cursor: pointer;
      margin-right: 20px;
  }
  .msg_container{
      margin-top: auto;
      margin-bottom: auto;
      margin-left: 10px;
      border-radius: 25px;
      background-color: whitesmoke;
      padding: 10px;
      position: relative;
      overflow-wrap:  break-word;
      max-width: 80%;
  }
  .msg_container_send{
      margin-top: auto;
      margin-bottom: auto;
      margin-right: 10px;
      border-radius: 25px;
      background-color: #78e08f;
      padding: 10px;
      position: relative;
      overflow-wrap:  break-word;
      max-width: 80%;
  }
  .msg_time{
      color: rgba(255,255,255,0.5);
      font-size: 12px;
  }
  .msg_time_send{
      color: rgba(255,255,255,0.5);
      font-size: 12px;
  }
  .action_menu ul{
      list-style: none;
      padding: 0;
      margin: 0;
  }
  .action_menu ul li{
      width: 100%;
      padding: 10px 15px;
      margin-bottom: 5px;
  }
  .action_menu ul li i{
      padding-right: 10px;

  }
  .action_menu ul li:hover{
      cursor: pointer;
      background-color: rgba(0,0,0,0.2);
  }
  </style>
</head>
<body>
<div class="container-fluid mt-5">
  <div class="d-flex justify-content-center">
    <div class="col-md-8 col-xl-6 chat">
      <div class="d-flex justify-content-center mb-3">
        <a href="{{ base_url }}admin/chat/roomv4/{{ room_data.id }}/change/" target="_blank">
          <h1 class="title">{{ room_data.name }}</h1>
        </a>
      </div>
      <div class="card-body msg_card_body">
        {% for message in messages %}
          {% if room_data.owner.id == message.sender_id %}
            <div class="d-flex justify-content-end mb-2" id="{{ message.id }}">
              <div class="msg_container_send">
                {{ message.text }}
              </div>
              <div class="img_cont_msg">
                <a href="{{ base_url }}admin/account/account/{{ message.sender_id }}/change/" target="_blank">
                  <img src="{{ message.sender_data.image }}" class="rounded-circle user_img_msg">
                </a>
              </div>
            </div>
            <span class="d-flex justify-content-end msg_time_send mb-4">【{{ message.sender_data.name }}・{% if room_data.is_speaker %}話し手{% else %}聞き手{% endif %}】 {{ message.time }}</span>
          {% else %}
            <div class="d-flex justify-content-start mb-2" id="{{ message.id }}">
              <div class="img_cont_msg">
                <a href="{{ base_url }}admin/account/account/{{ message.sender_id }}/change/" target="_blank">
                  <img src="{{ message.sender_data.image }}" class="rounded-circle user_img_msg">
                </a>
              </div>
              <div class="msg_container">
                {{ message.text }}
              </div>
            </div>
            <span class="d-flex justify-content-start msg_time mb-4">{{ message.time }} 【{{ message.sender_data.name }}・{% if room_data.is_speaker %}聞き手{% else %}話し手{% endif %}】</span>
          {% endif %}
        {% endfor %}
      </div>
    </div>
  </div>
</div>
</body>
</html>